{% extends "base.html" %}
{% load static %}
{% block content %}
<title>Quiz Result | Beneath The Blue</title>
<link rel="stylesheet" href="{% static 'css/quiz.css' %}">

<body>
  <div class="quiz-background">
    <video id="bg-video" autoplay muted loop playsinline>
      <source src="{% static 'videos/quiz_video.mp4' %}" type="video/mp4">
      <img src="{% static 'images/ocean-fallback.jpg' %}" alt="Ocean waves">
      Your browser does not support HTML5 video.
    </video>
    <div class="background-overlay"></div>
  </div>
  <div class="content-overlay">
    <header class="header">
            <div class="container header-container">
                <div class="logo">
                    <h1>Beneath the Blue</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="{% url 'home' %}">~Home</a></li>
                        <li><a href="{% url 'threats' %}" class="nav-link">~Threats</a></li>
                        <li><a href="{% url 'quiz' %}">~ More Quizzes</a></li>
                        {% comment %} <li><a href="{% url 'sign_up' %}" class="nav-btn">~Sign Up</a></li> {% endcomment %}
                    </ul>
                </nav>
            </div>
        </header>
    <main class="quiz-main">
      <div class="quiz-container result-container">
        <div class="quiz-header-section">
          <h2 class="quiz-heading">Your Quiz Result</h2>
          <div class="quiz-divider"></div>
        </div>
        <div class="result-score-section">
          <div class="score-circle">
            <span class="score-value">{{ score }}</span>
            <span class="score-total">/ {{ total }}</span>
          </div>
          <div class="score-bar-outer">
            <div class="score-bar-inner"></div>
          </div>
          <div class="result-message">
            {% if score == total %}
              <span class="result-congrats">Perfect! ðŸŒŸ You're an Ocean Expert!</span>
            {% elif score >= total|add:'-2' %}
              <span class="result-congrats">Great job! You know your oceans well!</span>
            {% else %}
              <span class="result-congrats">Keep learning and exploring the blue!</span>
            {% endif %}
          </div>
        </div>
        <div class="result-details">
          <p><strong>Total Questions:</strong> {{ total }}</p>
          <p><strong>Correct Answers:</strong> {{ correct }}</p>
          <p><strong>Wrong Answers:</strong> {{ wrong }}</p>
        </div>
        <div class="action-buttons">
          <a href="{% url 'quiz' %}" class="btn primary-btn">Try Again</a>
        </div>
      </div>
    </main>
</body>
{% endblock %}