{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/solution_detail.css' %}">
<title>{{ solution.title }} | Beneath The Blue</title>

<body>
    <div class="video-wrapper">
        <video autoplay muted loop id="bg-video">
            <source src="{% static 'videos/threats.mp4' %}" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
    </div>
    
    <div class="content-overlay">
        <div class="solution-detail-container">
            <div class="solution-header">
                <a href="{% url 'solutions' %}" class="back-btn">‚Üê Back to Solutions</a>
                <h1>{{ solution.title }}</h1>
                <span class="threat-tag">{{ solution.related_threat.title }}</span>
            </div>
            
            <div class="solution-content">
                <div class="solution-main">
                    <div class="solution-image">
                        {% if solution.image %}
                            <img src="{{ solution.image.url }}" alt="{{ solution.title }}">
                        {% else %}
                            <img src="{% static 'image/solutions.jpg' %}" alt="{{ solution.title }}">
                        {% endif %}
                    </div>
                    
                    <div class="solution-description">
                        <h2>Overview</h2>
                        <p>{{ solution.detailed_description }}</p>
                        
                        {% if solution.benefits %}
                        <h3>Benefits</h3>
                        <p>{{ solution.benefits }}</p>
                        {% endif %}
                        
                        {% if solution.implementation_steps %}
                        <h3>Implementation Steps</h3>
                        <p>{{ solution.implementation_steps }}</p>
                        {% endif %}
                        
                        {% if solution.wikipedia_link %}
                        <div class="external-links">
                            <h3>Learn More</h3>
                            <a href="{{ solution.wikipedia_link }}" target="_blank" class="wikipedia-link">
                                <i class="fab fa-wikipedia-w"></i>
                                Read on Wikipedia
                            </a>
                        </div>
                        {% endif %}
                    </div>
                </div>
                
                {% if related_solutions %}
                <div class="related-solutions">
                    <h3>Related Solutions</h3>
                    <div class="related-grid">
                        {% for related in related_solutions %}
                        <div class="related-card" data-href="{% url 'solution_detail' related.id %}">
                            <h4>{{ related.title }}</h4>
                            <p>{{ related.description|truncatewords:15 }}</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
        
        <footer>
            <p>&copy; 2023 Ocean Guardians. All rights reserved.</p>
            <p>Dedicated to protecting marine life for future generations.</p>
        </footer>
    </div>
</body>
{% endblock %} 